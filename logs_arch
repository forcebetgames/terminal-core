====================================
ğŸ® TERMINAL DE JOGOS - FORCEBET
====================================

Iniciando o sistema...
ğŸ–¥ï¸  Display Server: WAYLAND
ğŸŒŠ Detectando resoluÃ§Ã£o no Wayland...
   Tentando xrandr via XWayland...
   âœ“ Monitor eDP-1: 1366x768 (xrandr)
âœ… ResoluÃ§Ã£o detectada: 1366x768
ğŸ“ OrientaÃ§Ã£o: HORIZONTAL (landscape)
ğŸ“ Modo: HORIZONTAL (Landscape) - 1366x768
ğŸ¯ Jogo: Empire ğŸ›ï¸

====================================
Se conectando ao banco de dados de prod 
Pegando a numeraÃ§Ã£o do terminal...
====================================
ğŸ” DEBUG - Machine ID detectado: a6b927153639449186816d01064b7d7f
====================================
ğŸ“Š Executando query:
SELECT id, user_name, pin, name, amount, status, IFNULL(url, ?), nid, facility_id, session_id FROM trm_terminal WHERE id = ?
ğŸ“Š ParÃ¢metros: safe_url='https://google.com', machineId='a6b927153639449186816d01064b7d7f'
====================================
ğŸ“Š DEBUG - Dados do Terminal:
  ID (Machine ID): a6b927153639449186816d01064b7d7f
  Nome: Terminal Dev 001
  Username: terminal001
  NID: 999
  Saldo: R$ 40940.80
  Facility ID: 1
  Status: Ativo
  URL: https://dashboard.forcebetgames.com
  PIN: 1234
  Session ID: CASH_f68ff7ae-a851-4642-83d2-e34995af12f3
====================================
Validando o terminal
Estabelecendo comunicaÃ§Ã£o
====================================
ğŸŒ DEBUG - URLs ConstruÃ­das:
  URL Base: https://dashboard.forcebetgames.com
  URL Final (com login): https://dashboard.forcebetgames.com/go-login?user_name=terminal001&pin=1234
====================================
ğŸš€ Abrindo navegador Chromium...
====================================
====================================
âœ… Navegador aberto com sucesso!
====================================
ğŸ¹ Inicializando sistema de input...
ğŸ–¥ï¸  Display Server detectado: wayland
ğŸŒŠ Usando modo WAYLAND (evdev)
âš ï¸  IMPORTANTE: Execute com sudo se houver erros de permissÃ£o!
âœ… Teclado detectado: AT Translated Set 2 keyboard (/dev/input/event2)
====================================
ğŸ“Œ Registrando atalhos de teclado...
====================================
ğŸ”¢ NumLock: DESABILITADO (sessÃ£o CASH)
====================================
âŒ¨ï¸  Atalhos de teclado disponÃ­veis:
  Y - Abrir modal de depÃ³sito
  G - Ir para home/jogos
  J - Abrir modal de saque
  F - Fechar programa

ğŸ® CONTROLES DO JOGO:
  + (=) - Aumentar aposta
  -     - Diminuir aposta
  G ou â†‘ ou O - Mudar jogo
  SPACE - Iniciar/Girar jogo

ğŸ’° TECLAS DE DINHEIRO (aceita AMBAS - teclas normais OU numpad):
  2 ou Numpad 2  â†’ R$ 2
  3 ou Numpad 3  â†’ R$ 5
  4 ou Numpad 4  â†’ R$ 10
  5 ou Numpad 5  â†’ R$ 20
  6 ou Numpad 6  â†’ R$ 50
  7 ou Numpad 7  â†’ R$ 100
====================================
ğŸ”Œ Conectando ao Pusher (websocket)...
âœ… Pusher conectado!
====================================
ğŸ’° Sistema de pagamento iniciado
ğŸ“Œ Registrando hooks para teclas de dinheiro...
   âœ… Registrado: R$ 2 â†’ teclas [2 kp_2]
   âœ… Registrado: R$ 5 â†’ teclas [3 kp_3]
   âœ… Registrado: R$ 10 â†’ teclas [4 kp_4]
   âœ… Registrado: R$ 20 â†’ teclas [5 kp_5]
   âœ… Registrado: R$ 50 â†’ teclas [6 kp_6]
   âœ… Registrado: R$ 100 â†’ teclas [7 kp_7]
âœ… Hooks de pagamento registrados!
ğŸ’¡ Pressione teclas 2-7 (normais OU numpad) para inserir dinheiro
ğŸ§ Iniciando escuta de eventos evdev (Wayland)...
====================================

ğŸ® SISTEMA PRONTO!
Pressione Ctrl+C para encerrar

ğŸ’¡ Tente pressionar teclas 2-7 ou Numpad 2-7
   VocÃª verÃ¡ logs detalhados no console!

====================================
====================================
âŒ¨ï¸  TECLA CAPTURADA (Wayland/evdev):
   Dispositivo: AT Translated Set 2 keyboard
   Keycode evdev: 3
   Key mapeada: '2'
   Event type: 1, Value: 1
====================================
ğŸ”” Executando 1 callback(s) para tecla '2'
====================================
ğŸ” DEBUG - Tecla capturada:
   Tecla: 2
   Rawcode: 3
   Valor: R$ 2
====================================
âœ… VÃLIDO - Inserindo R$ 2...
====================================
ğŸš€ CALLBACK EXECUTADO - Valor: R$ 2
====================================
ğŸ“¡ Enviando POST para: https://dashboard.forcebetgames.com/api/hooks/pnr/deposit_cash
ğŸ“¦ Payload: {"amount":2,"notas":{"2":1},"terminalId":"a6b927153639449186816d01064b7d7f"}
ğŸ“¥ Status HTTP: 200
ğŸ“¥ Resposta do servidor: {}
âœ… Pagamento enviado com sucesso!
====================================
====================================
âŒ¨ï¸  TECLA CAPTURADA (Wayland/evdev):
   Dispositivo: AT Translated Set 2 keyboard
   Keycode evdev: 4
   Key mapeada: '3'
   Event type: 1, Value: 1
====================================
ğŸ”” Executando 1 callback(s) para tecla '3'
====================================
ğŸ” DEBUG - Tecla capturada:
   Tecla: 3
   Rawcode: 4
   Valor: R$ 5
====================================
âœ… VÃLIDO - Inserindo R$ 5...
====================================
ğŸš€ CALLBACK EXECUTADO - Valor: R$ 5
====================================
ğŸ“¡ Enviando POST para: https://dashboard.forcebetgames.com/api/hooks/pnr/deposit_cash
ğŸ“¦ Payload: {"amount":5,"notas":{"5":1},"terminalId":"a6b927153639449186816d01064b7d7f"}
ğŸ“¥ Status HTTP: 200
ğŸ“¥ Resposta do servidor: {}
âœ… Pagamento enviado com sucesso!
====================================
====================================
âŒ¨ï¸  TECLA CAPTURADA (Wayland/evdev):
   Dispositivo: AT Translated Set 2 keyboard
   Keycode evdev: 5
   Key mapeada: '4'
   Event type: 1, Value: 1
====================================
ğŸ”” Executando 1 callback(s) para tecla '4'
====================================
ğŸ” DEBUG - Tecla capturada:
   Tecla: 4
   Rawcode: 5
   Valor: R$ 10
====================================
âœ… VÃLIDO - Inserindo R$ 10...
====================================
ğŸš€ CALLBACK EXECUTADO - Valor: R$ 10
====================================
ğŸ“¡ Enviando POST para: https://dashboard.forcebetgames.com/api/hooks/pnr/deposit_cash
ğŸ“¦ Payload: {"amount":10,"notas":{"10":1},"terminalId":"a6b927153639449186816d01064b7d7f"}
ğŸ“¥ Status HTTP: 200
ğŸ“¥ Resposta do servidor: {}
âœ… Pagamento enviado com sucesso!
====================================
====================================
âŒ¨ï¸  TECLA CAPTURADA (Wayland/evdev):
   Dispositivo: AT Translated Set 2 keyboard
   Keycode evdev: 6
   Key mapeada: '5'
   Event type: 1, Value: 1
====================================
ğŸ”” Executando 1 callback(s) para tecla '5'
====================================
ğŸ” DEBUG - Tecla capturada:
   Tecla: 5
   Rawcode: 6
   Valor: R$ 20
====================================
âœ… VÃLIDO - Inserindo R$ 20...
====================================
ğŸš€ CALLBACK EXECUTADO - Valor: R$ 20
====================================
ğŸ“¡ Enviando POST para: https://dashboard.forcebetgames.com/api/hooks/pnr/deposit_cash
ğŸ“¦ Payload: {"amount":20,"notas":{"20":1},"terminalId":"a6b927153639449186816d01064b7d7f"}
ğŸ“¥ Status HTTP: 200
ğŸ“¥ Resposta do servidor: {}
âœ… Pagamento enviado com sucesso!
====================================
====================================
âŒ¨ï¸  TECLA CAPTURADA (Wayland/evdev):
   Dispositivo: AT Translated Set 2 keyboard
   Keycode evdev: 7
   Key mapeada: '6'
   Event type: 1, Value: 1
====================================
ğŸ”” Executando 1 callback(s) para tecla '6'
====================================
ğŸ” DEBUG - Tecla capturada:
   Tecla: 6
   Rawcode: 7
   Valor: R$ 50
====================================
âœ… VÃLIDO - Inserindo R$ 50...
====================================
ğŸš€ CALLBACK EXECUTADO - Valor: R$ 50
====================================
ğŸ“¡ Enviando POST para: https://dashboard.forcebetgames.com/api/hooks/pnr/deposit_cash
ğŸ“¦ Payload: {"amount":50,"notas":{"50":1},"terminalId":"a6b927153639449186816d01064b7d7f"}
ğŸ“¥ Status HTTP: 200
ğŸ“¥ Resposta do servidor: {}
âœ… Pagamento enviado com sucesso!
====================================
====================================
âŒ¨ï¸  TECLA CAPTURADA (Wayland/evdev):
   Dispositivo: AT Translated Set 2 keyboard
   Keycode evdev: 8
   Key mapeada: '7'
   Event type: 1, Value: 1
====================================
ğŸ”” Executando 1 callback(s) para tecla '7'
====================================
ğŸ” DEBUG - Tecla capturada:
   Tecla: 7
   Rawcode: 8
   Valor: R$ 100
====================================
âœ… VÃLIDO - Inserindo R$ 100...
====================================
ğŸš€ CALLBACK EXECUTADO - Valor: R$ 100
====================================
ğŸ“¡ Enviando POST para: https://dashboard.forcebetgames.com/api/hooks/pnr/deposit_cash
ğŸ“¦ Payload: {"amount":100,"notas":{"100":1},"terminalId":"a6b927153639449186816d01064b7d7f"}
ğŸ“¥ Status HTTP: 200
ğŸ“¥ Resposta do servidor: {}
âœ… Pagamento enviado com sucesso!
====================================
